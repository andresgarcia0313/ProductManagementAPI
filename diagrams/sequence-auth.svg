<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1374px" preserveAspectRatio="none" style="width:1188px;height:1374px;background:#FFFFFF;" version="1.1" viewBox="0 0 1188 1374" width="1188px" zoomAndPan="magnify"><title>Diagrama de Secuencia - Flujo de Autenticacion</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="377.8359" x="401.1582" y="27.9951">Diagrama de Secuencia - Flujo de Autenticacion</text><g><title>AuthController</title><rect fill="#FFFFFF" height="464.2578" style="stroke:#181818;stroke-width:1;" width="10" x="297.8843" y="210.2891"/></g><g><title>AuthController</title><rect fill="#FFFFFF" height="261.1953" style="stroke:#181818;stroke-width:1;" width="10" x="297.8843" y="761.9453"/></g><g><title>AuthController</title><rect fill="#FFFFFF" height="151.7969" style="stroke:#181818;stroke-width:1;" width="10" x="297.8843" y="1110.5391"/></g><g><title>AuthService</title><rect fill="#FFFFFF" height="233.1953" style="stroke:#181818;stroke-width:1;" width="10" x="555.4888" y="239.4219"/></g><g><title>AuthService</title><rect fill="#FFFFFF" height="187.7969" style="stroke:#181818;stroke-width:1;" width="10" x="555.4888" y="791.0781"/></g><g><title>JwtService</title><rect fill="#FFFFFF" height="128.5313" style="stroke:#181818;stroke-width:1;" width="10" x="755.8672" y="501.75"/></g><g><title>AppDbContext</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="961.4634" y="356.0859"/></g><g><title>AppDbContext</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="961.4634" y="862.3438"/></g><g><title>Cliente</title><rect fill="#000000" fill-opacity="0.00000" height="1159.4453" width="8" x="28.5718" y="120.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="32" x2="32" y1="120.8906" y2="1280.3359"/></g><g><title>AuthController</title><rect fill="#000000" fill-opacity="0.00000" height="1159.4453" width="8" x="298.8843" y="120.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="301.8916" x2="301.8916" y1="120.8906" y2="1280.3359"/></g><g><title>AuthService</title><rect fill="#000000" fill-opacity="0.00000" height="1159.4453" width="8" x="556.4888" y="120.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="560.2119" x2="560.2119" y1="120.8906" y2="1280.3359"/></g><g><title>JwtService</title><rect fill="#000000" fill-opacity="0.00000" height="1159.4453" width="8" x="756.8672" y="120.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="760.4624" x2="760.4624" y1="120.8906" y2="1280.3359"/></g><g><title>AppDbContext</title><rect fill="#000000" fill-opacity="0.00000" height="1159.4453" width="8" x="962.4634" y="120.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="966.4092" x2="966.4092" y1="120.8906" y2="1280.3359"/></g><g><title>SQLite</title><rect fill="#000000" fill-opacity="0.00000" height="1159.4453" width="8" x="1133.6636" y="120.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1137.1748" x2="1137.1748" y1="120.8906" y2="1280.3359"/></g><g class="participant participant-head" data-participant="client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.1436" x="5" y="117.5889">Cliente</text><ellipse cx="32.5718" cy="53.0938" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M32.5718,61.0938 L32.5718,88.0938 M19.5718,69.0938 L45.5718,69.0938 M32.5718,88.0938 L19.5718,103.0938 M32.5718,88.0938 L45.5718,103.0938" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.1436" x="5" y="1292.3311">Cliente</text><ellipse cx="32.5718" cy="1304.1328" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M32.5718,1312.1328 L32.5718,1339.1328 M19.5718,1320.1328 L45.5718,1320.1328 M32.5718,1339.1328 L19.5718,1354.1328 M32.5718,1339.1328 L45.5718,1354.1328" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="ctrl"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="115.9854" x="244.8916" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9854" x="251.8916" y="109.5889">AuthController</text></g><g class="participant participant-tail" data-participant="ctrl"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="115.9854" x="244.8916" y="1279.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9854" x="251.8916" y="1299.3311">AuthController</text></g><g class="participant participant-head" data-participant="auth_svc"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="98.5537" x="511.2119" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.5537" x="518.2119" y="109.5889">AuthService</text></g><g class="participant participant-tail" data-participant="auth_svc"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="98.5537" x="511.2119" y="1279.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.5537" x="518.2119" y="1299.3311">AuthService</text></g><g class="participant participant-head" data-participant="jwt_svc"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86.8096" x="717.4624" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.8096" x="724.4624" y="109.5889">JwtService</text></g><g class="participant participant-tail" data-participant="jwt_svc"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86.8096" x="717.4624" y="1279.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.8096" x="724.4624" y="1299.3311">JwtService</text></g><g class="participant participant-head" data-participant="db"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="116.1084" x="908.4092" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.1084" x="915.4092" y="109.5889">AppDbContext</text></g><g class="participant participant-tail" data-participant="db"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="116.1084" x="908.4092" y="1279.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.1084" x="915.4092" y="1299.3311">AppDbContext</text></g><g class="participant participant-head" data-participant="sqlite"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.6982" x="1111.8145" y="101.292">SQLite</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.9775" x="1099.1748" y="117.5889">(users.db)</text><path d="M1119.6636,52.2969 C1119.6636,42.2969 1137.6636,42.2969 1137.6636,42.2969 C1137.6636,42.2969 1155.6636,42.2969 1155.6636,52.2969 L1155.6636,78.2969 C1155.6636,88.2969 1137.6636,88.2969 1137.6636,88.2969 C1137.6636,88.2969 1119.6636,88.2969 1119.6636,78.2969 L1119.6636,52.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1119.6636,52.2969 C1119.6636,62.2969 1137.6636,62.2969 1137.6636,62.2969 C1137.6636,62.2969 1155.6636,62.2969 1155.6636,52.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="sqlite"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.6982" x="1111.8145" y="1292.3311">SQLite</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.9775" x="1099.1748" y="1308.6279">(users.db)</text><path d="M1119.6636,1321.9297 C1119.6636,1311.9297 1137.6636,1311.9297 1137.6636,1311.9297 C1137.6636,1311.9297 1155.6636,1311.9297 1155.6636,1321.9297 L1155.6636,1347.9297 C1155.6636,1357.9297 1137.6636,1357.9297 1137.6636,1357.9297 C1137.6636,1357.9297 1119.6636,1357.9297 1119.6636,1347.9297 L1119.6636,1321.9297" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1119.6636,1321.9297 C1119.6636,1331.9297 1137.6636,1331.9297 1137.6636,1331.9297 C1137.6636,1331.9297 1155.6636,1331.9297 1155.6636,1321.9297" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>AuthController</title><rect fill="#FFFFFF" height="464.2578" style="stroke:#181818;stroke-width:1;" width="10" x="297.8843" y="210.2891"/></g><g><title>AuthController</title><rect fill="#FFFFFF" height="261.1953" style="stroke:#181818;stroke-width:1;" width="10" x="297.8843" y="761.9453"/></g><g><title>AuthController</title><rect fill="#FFFFFF" height="151.7969" style="stroke:#181818;stroke-width:1;" width="10" x="297.8843" y="1110.5391"/></g><g><title>AuthService</title><rect fill="#FFFFFF" height="233.1953" style="stroke:#181818;stroke-width:1;" width="10" x="555.4888" y="239.4219"/></g><g><title>AuthService</title><rect fill="#FFFFFF" height="187.7969" style="stroke:#181818;stroke-width:1;" width="10" x="555.4888" y="791.0781"/></g><g><title>JwtService</title><rect fill="#FFFFFF" height="128.5313" style="stroke:#181818;stroke-width:1;" width="10" x="755.8672" y="501.75"/></g><g><title>AppDbContext</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="961.4634" y="356.0859"/></g><g><title>AppDbContext</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="961.4634" y="862.3438"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1181.1523" x="0" y="151.457"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1181.1523" y1="151.457" y2="151.457"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1181.1523" y1="154.457" y2="154.457"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="116.8193" x="532.1665" y="140.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98.2935" x="538.1665" y="156.9575">Login Exitoso</text><g class="message" data-participant-1="client" data-participant-2="ctrl"><polygon fill="#181818" points="285.8843,206.2891,295.8843,210.2891,285.8843,214.2891,289.8843,210.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.5718" x2="291.8843" y1="210.2891" y2="210.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.1631" x="39.5718" y="190.0903">POST /api/users/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9756" x="39.5718" y="205.2231">{username, password}</text></g><g class="message" data-participant-1="ctrl" data-participant-2="auth_svc"><polygon fill="#181818" points="543.4888,235.4219,553.4888,239.4219,543.4888,243.4219,547.4888,239.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="307.8843" x2="549.4888" y1="239.4219" y2="239.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.6045" x="314.8843" y="234.356">ValidateUser(username, password)</text></g><g class="message" data-participant-1="auth_svc" data-participant-2="auth_svc"><line style="stroke:#181818;stroke-width:1;" x1="565.4888" x2="607.4888" y1="283.6875" y2="283.6875"/><line style="stroke:#181818;stroke-width:1;" x1="607.4888" x2="607.4888" y1="283.6875" y2="296.6875"/><line style="stroke:#181818;stroke-width:1;" x1="566.4888" x2="607.4888" y1="296.6875" y2="296.6875"/><polygon fill="#181818" points="576.4888,292.6875,566.4888,296.6875,576.4888,300.6875,572.4888,296.6875" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.3784" x="572.4888" y="263.4888">HashPassword(password)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.2891" x="572.4888" y="278.6216">usando SHA256</text></g><g class="message" data-participant-1="auth_svc" data-participant-2="db"><polygon fill="#181818" points="949.4634,352.0859,959.4634,356.0859,949.4634,360.0859,953.4634,356.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="565.4888" x2="955.4634" y1="356.0859" y2="356.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.0439" x="572.4888" y="320.7544">Query Users</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.5708" x="572.4888" y="335.8872">WHERE Username = x</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.4233" x="572.4888" y="351.02">AND PasswordHash = hash</text></g><g class="message" data-participant-1="db" data-participant-2="sqlite"><polygon fill="#181818" points="1125.6636,381.2188,1135.6636,385.2188,1125.6636,389.2188,1129.6636,385.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="971.4634" x2="1131.6636" y1="385.2188" y2="385.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.2002" x="978.4634" y="380.1528">SELECT * FROM Users</text></g><g class="message" data-participant-1="sqlite" data-participant-2="db"><polygon fill="#181818" points="982.4634,410.3516,972.4634,414.3516,982.4634,418.3516,978.4634,414.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="976.4634" x2="1136.6636" y1="414.3516" y2="414.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.0449" x="988.4634" y="409.2856">User data</text></g><g class="message" data-participant-1="db" data-participant-2="auth_svc"><polygon fill="#181818" points="576.4888,439.4844,566.4888,443.4844,576.4888,447.4844,572.4888,443.4844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="570.4888" x2="965.4634" y1="443.4844" y2="443.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.8232" x="582.4888" y="438.4185">User object</text></g><g class="message" data-participant-1="auth_svc" data-participant-2="ctrl"><polygon fill="#181818" points="318.8843,468.6172,308.8843,472.6172,318.8843,476.6172,314.8843,472.6172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="312.8843" x2="559.4888" y1="472.6172" y2="472.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.9956" x="324.8843" y="467.5513">User (valido)</text></g><g class="message" data-participant-1="ctrl" data-participant-2="jwt_svc"><polygon fill="#181818" points="743.8672,497.75,753.8672,501.75,743.8672,505.75,747.8672,501.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="307.8843" x2="749.8672" y1="501.75" y2="501.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.874" x="314.8843" y="496.6841">GenerateToken(user)</text></g><g class="message" data-participant-1="jwt_svc" data-participant-2="jwt_svc"><line style="stroke:#181818;stroke-width:1;" x1="765.8672" x2="807.8672" y1="546.0156" y2="546.0156"/><line style="stroke:#181818;stroke-width:1;" x1="807.8672" x2="807.8672" y1="546.0156" y2="559.0156"/><line style="stroke:#181818;stroke-width:1;" x1="766.8672" x2="807.8672" y1="559.0156" y2="559.0156"/><polygon fill="#181818" points="776.8672,555.0156,766.8672,559.0156,776.8672,563.0156,772.8672,559.0156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.5669" x="772.8672" y="525.8169">Crear Claims</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.5962" x="772.8672" y="540.9497">(sub, email, username, jti)</text></g><g class="message" data-participant-1="jwt_svc" data-participant-2="jwt_svc"><line style="stroke:#181818;stroke-width:1;" x1="765.8672" x2="807.8672" y1="588.1484" y2="588.1484"/><line style="stroke:#181818;stroke-width:1;" x1="807.8672" x2="807.8672" y1="588.1484" y2="601.1484"/><line style="stroke:#181818;stroke-width:1;" x1="766.8672" x2="807.8672" y1="601.1484" y2="601.1484"/><polygon fill="#181818" points="776.8672,597.1484,766.8672,601.1484,776.8672,605.1484,772.8672,601.1484" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.3999" x="772.8672" y="583.0825">Firmar con HMAC-SHA256</text></g><g class="message" data-participant-1="jwt_svc" data-participant-2="ctrl"><polygon fill="#181818" points="318.8843,626.2813,308.8843,630.2813,318.8843,634.2813,314.8843,630.2813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="312.8843" x2="759.8672" y1="630.2813" y2="630.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.5757" x="324.8843" y="625.2153">JWT Token (expira en 1h)</text></g><g class="message" data-participant-1="ctrl" data-participant-2="client"><polygon fill="#181818" points="43.5718,670.5469,33.5718,674.5469,43.5718,678.5469,39.5718,674.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="37.5718" x2="301.8843" y1="674.5469" y2="674.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7026" x="49.5718" y="654.3481">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.752" x="49.5718" y="669.481">{token: "eyJ..."}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1181.1523" x="0" y="703.1133"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1181.1523" y1="703.1133" y2="703.1133"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1181.1523" y1="706.1133" y2="706.1133"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="112.541" x="534.3057" y="692.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94.0151" x="540.3057" y="708.6138">Login Fallido</text><g class="message" data-participant-1="client" data-participant-2="ctrl"><polygon fill="#181818" points="285.8843,757.9453,295.8843,761.9453,285.8843,765.9453,289.8843,761.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.5718" x2="291.8843" y1="761.9453" y2="761.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.1631" x="39.5718" y="741.7466">POST /api/users/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.3135" x="39.5718" y="756.8794">{username, password_incorrecto}</text></g><g class="message" data-participant-1="ctrl" data-participant-2="auth_svc"><polygon fill="#181818" points="543.4888,787.0781,553.4888,791.0781,543.4888,795.0781,547.4888,791.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="307.8843" x2="549.4888" y1="791.0781" y2="791.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.6045" x="314.8843" y="786.0122">ValidateUser(username, password)</text></g><g class="message" data-participant-1="auth_svc" data-participant-2="auth_svc"><line style="stroke:#181818;stroke-width:1;" x1="565.4888" x2="607.4888" y1="820.2109" y2="820.2109"/><line style="stroke:#181818;stroke-width:1;" x1="607.4888" x2="607.4888" y1="820.2109" y2="833.2109"/><line style="stroke:#181818;stroke-width:1;" x1="566.4888" x2="607.4888" y1="833.2109" y2="833.2109"/><polygon fill="#181818" points="576.4888,829.2109,566.4888,833.2109,576.4888,837.2109,572.4888,833.2109" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.3784" x="572.4888" y="815.145">HashPassword(password)</text></g><g class="message" data-participant-1="auth_svc" data-participant-2="db"><polygon fill="#181818" points="949.4634,858.3438,959.4634,862.3438,949.4634,866.3438,953.4634,862.3438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="565.4888" x2="955.4634" y1="862.3438" y2="862.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.0439" x="572.4888" y="857.2778">Query Users</text></g><g class="message" data-participant-1="db" data-participant-2="sqlite"><polygon fill="#181818" points="1125.6636,887.4766,1135.6636,891.4766,1125.6636,895.4766,1129.6636,891.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="971.4634" x2="1131.6636" y1="891.4766" y2="891.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.2002" x="978.4634" y="886.4106">SELECT * FROM Users</text></g><g class="message" data-participant-1="sqlite" data-participant-2="db"><polygon fill="#181818" points="982.4634,916.6094,972.4634,920.6094,982.4634,924.6094,978.4634,920.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="976.4634" x2="1136.6636" y1="920.6094" y2="920.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.6475" x="988.4634" y="915.5435">No results</text></g><g class="message" data-participant-1="db" data-participant-2="auth_svc"><polygon fill="#181818" points="576.4888,945.7422,566.4888,949.7422,576.4888,953.7422,572.4888,949.7422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="570.4888" x2="965.4634" y1="949.7422" y2="949.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.7021" x="582.4888" y="944.6763">null</text></g><g class="message" data-participant-1="auth_svc" data-participant-2="ctrl"><polygon fill="#181818" points="318.8843,974.875,308.8843,978.875,318.8843,982.875,314.8843,978.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="312.8843" x2="559.4888" y1="978.875" y2="978.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.918" x="324.8843" y="973.8091">null (invalido)</text></g><g class="message" data-participant-1="ctrl" data-participant-2="client"><polygon fill="#181818" points="43.5718,1019.1406,33.5718,1023.1406,43.5718,1027.1406,39.5718,1023.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="37.5718" x2="301.8843" y1="1023.1406" y2="1023.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.2256" x="49.5718" y="1002.9419">401 Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241.3125" x="49.5718" y="1018.0747">{message: "Credenciales invalidas"}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1181.1523" x="0" y="1051.707"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1181.1523" y1="1051.707" y2="1051.707"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1181.1523" y1="1054.707" y2="1054.707"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="253.897" x="463.6277" y="1041.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="235.3711" x="469.6277" y="1057.2075">Obtener Usuario Actual (GetMe)</text><g class="message" data-participant-1="client" data-participant-2="ctrl"><polygon fill="#181818" points="285.8843,1106.5391,295.8843,1110.5391,285.8843,1114.5391,289.8843,1110.5391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.5718" x2="291.8843" y1="1110.5391" y2="1110.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.1201" x="39.5718" y="1090.3403">GET /api/users/me</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.644" x="39.5718" y="1105.4731">Authorization: Bearer {token}</text></g><path d="M206,1123.5391 L206,1163.5391 L399,1163.5391 L399,1133.5391 L389,1123.5391 L206,1123.5391" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M389,1123.5391 L389,1133.5391 L399,1133.5391 L389,1123.5391" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.8784" x="212" y="1140.606">JWT Middleware valida</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.396" x="212" y="1155.7388">el token automaticamente</text><g class="message" data-participant-1="ctrl" data-participant-2="ctrl"><line style="stroke:#181818;stroke-width:1;" x1="307.8843" x2="349.8843" y1="1205.0703" y2="1205.0703"/><line style="stroke:#181818;stroke-width:1;" x1="349.8843" x2="349.8843" y1="1205.0703" y2="1218.0703"/><line style="stroke:#181818;stroke-width:1;" x1="308.8843" x2="349.8843" y1="1218.0703" y2="1218.0703"/><polygon fill="#181818" points="318.8843,1214.0703,308.8843,1218.0703,318.8843,1222.0703,314.8843,1218.0703" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.437" x="314.8843" y="1184.8716">Extraer Claims del token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.6104" x="314.8843" y="1200.0044">(User.Claims)</text></g><g class="message" data-participant-1="ctrl" data-participant-2="client"><polygon fill="#181818" points="43.5718,1258.3359,33.5718,1262.3359,43.5718,1266.3359,39.5718,1262.3359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="37.5718" x2="301.8843" y1="1262.3359" y2="1262.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7026" x="49.5718" y="1242.1372">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.5859" x="49.5718" y="1257.27">{userId, email, username}</text></g><!--SRC=[pLLDRnen4BtxLumuGHL8KhKz856944YQXf04qboG8hCx0XElJMqla4Rvxnrx5vOLQHIrbtA0jVUzv_buWvrm4k5KyAdX2OSOOOXHYYeI7EhGa-bS-yrswb0v4V58QCMOVHHgmOa1z4tROi6LWsS6z3dXqUFKw5J57IsrWVkPS9YzqIP6a-sUI8An5yPuv6ZPaOBq4RY5A3ooNU4A7J_hQEMCbX9D9S2SaVkW8PgbY30WEAqVx38geovMRXSqNxbzJ7knE9tuyt3j0YgUi9WxFk4MeJAykQICnggQMZIs4Kzg0MD_IfyeQxNWKa-5WkvQE6qrj5gCPKb1_Mk86vfmFHYEu90ln65GEPIUCbRFVgLuWWTKMMjNLB4NNoAnv5ITa3CB2gIqoO_KVd0fA42y8tPrNw9MI6oBmhRqijGvjxFhd5VT2enLQhcADGpFsny_VocpumdnRb8qJ-03i6DrVzwzxOQ53mHQi1whzjKfR8Jz8RGxevyYD2eo8oaIp4f9eiFkPRSpWW_GkntqCt6Mlwnl3lQxuBiJoELamZizcMFaM8obaue4YgO4U7NfYwbhkuIYQflYvxuXqXagD0GQwKVCFB5Jxeszs0PVedOCSkzzBX8gMjMcamF0X0jv04KJvqxKNgVtX4c87sa5v_rsfvxtPeij4hku7q683wguNWZ3WHwFPwKSjw5cANfoPjecV3mwWi5tSgVp6aseuDD5ez6elEpoCtDktT_ZqfVnNzt_85IaZQ46wlzY4DuqVidBVs7bAmq6RIgTVSNBAfNoFIRsEAWAzGuRx_Ruqz4nt2cFq4RymfYwaQ2rV8hKRp9g7Eu4YHPoQMx_qF_1nFcHe1nJReI6TkHIJY6TeUjZxNL3d7LBVaZexxMTXy8TNJbDEA5H8T7CWdjMK9eUzP80EuxlYpYMk28UP16F5Ke80huKEk7-HalynLEOAUTtryvmt0mdNO4vaSRKzwwHxTVUd1QVoxTuRwJtg_OR]--></g></svg>